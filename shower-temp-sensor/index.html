<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Shower temp sensor - ljmakerportfolio</title><meta name="description" content="The goal was to learn how to design pcb's This was made as a joint project between me and my&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://ljmaker.github.io/shower-temp-sensor/"><link rel="alternate" type="application/atom+xml" href="https://ljmaker.github.io/feed.xml" title="ljmakerportfolio - RSS"><link rel="alternate" type="application/json" href="https://ljmaker.github.io/feed.json" title="ljmakerportfolio - JSON"><meta property="og:title" content="Shower temp sensor"><meta property="og:image" content="https://ljmaker.github.io/media/posts/4/ShowerReal2.jpg"><meta property="og:image:width" content="8160"><meta property="og:image:height" content="6144"><meta property="og:site_name" content="ljmakerportfolio"><meta property="og:description" content="The goal was to learn how to design pcb's This was made as a joint project between me and my&hellip;"><meta property="og:url" content="https://ljmaker.github.io/shower-temp-sensor/"><meta property="og:type" content="article"><link rel="stylesheet" href="https://ljmaker.github.io/assets/css/style.css?v=74f838951fac6f2cfe001a386a288c7d"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://ljmaker.github.io/shower-temp-sensor/"},"headline":"Shower temp sensor","datePublished":"2025-03-29T19:05+01:00","dateModified":"2025-03-25T23:02+01:00","image":{"@type":"ImageObject","url":"https://ljmaker.github.io/media/posts/4/ShowerReal2.jpg","height":6144,"width":8160},"description":"The goal was to learn how to design pcb's This was made as a joint project between me and my&hellip;","author":{"@type":"Person","name":"Lovro Joksimović","url":"https://ljmaker.github.io/authors/lovro-joksimovic/"},"publisher":{"@type":"Organization","name":"Lovro Joksimović"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="post-template lines"><div class="container lines lines--right"><header class="header"><a href="https://ljmaker.github.io/" class="logo">ljmakerportfolio</a></header><main class="main post"><article class="content"><header class="content__inner content__header"><h1 class="content__title">Shower temp sensor</h1><div class="content__meta"><div class="content__meta__left"><a href="https://ljmaker.github.io/authors/lovro-joksimovic/" class="invert content__author" rel="author" title="Lovro Joksimović">Lovro Joksimović</a></div><div class="content__meta__right"><time datetime="2025-03-29T19:05" class="content__date">March 29, 2025</time><div class="content__updated">Updated on <time datetime="2025-03-29T19:05" class="content__date">March 25, 2025</time></div></div></div></header><figure class="content__featured-image"><div class="content__featured-image__inner is-img-loading"><img src="https://ljmaker.github.io/media/posts/4/ShowerReal2.jpg" srcset="https://ljmaker.github.io/media/posts/4/responsive/ShowerReal2-xs.jpg 384w, https://ljmaker.github.io/media/posts/4/responsive/ShowerReal2-sm.jpg 600w, https://ljmaker.github.io/media/posts/4/responsive/ShowerReal2-md.jpg 768w, https://ljmaker.github.io/media/posts/4/responsive/ShowerReal2-lg.jpg 1200w, https://ljmaker.github.io/media/posts/4/responsive/ShowerReal2-xl.jpg 1600w" sizes="(min-width: 37.5em) 1600px, 80vw" loading="eager" height="6144" width="8160" alt=""></div><figcaption>Outdoor shower temperature reader. Year of making 2023</figcaption></figure><div class="content__inner"><div class="content__entry"><h2 id="the-goal-was-to-learn-how-to-design-pcbs">The goal was to learn how to design pcb's</h2><p>This was made as a joint project between me and my dad. He prepared the metal casing and made the outdoor shower, and I made all the electronics.&nbsp;</p><figure class="post__image post__image--center"><img loading="lazy" src="https://ljmaker.github.io/media/posts/4/ShowerReal1.jpg" height="6144" width="8160" alt="" sizes="(min-width: 37.5em) 1600px, 80vw" srcset="https://ljmaker.github.io/media/posts/4/responsive/ShowerReal1-xs.jpg 384w, https://ljmaker.github.io/media/posts/4/responsive/ShowerReal1-sm.jpg 600w, https://ljmaker.github.io/media/posts/4/responsive/ShowerReal1-md.jpg 768w, https://ljmaker.github.io/media/posts/4/responsive/ShowerReal1-lg.jpg 1200w, https://ljmaker.github.io/media/posts/4/responsive/ShowerReal1-xl.jpg 1600w"></figure><p>The main components of the project included an ATtiny85 microcontroller which controlled two shift registers. These shift registers, in turn, drove two 7-segment displays to show the output. A waterproof temperature sensor was connected to the ATtiny85, and the temperature readings were displayed on the screen in degrees Celsius, rounded to the nearest whole number.<br><br>For power, a 9-volt battery was used. Since the ATtiny85 has a maximum voltage rating of 5.5 volts, a voltage regulator was added to step down the voltage. The circuit also included ceramic and electrolytic capacitors to ensure stable operation. Additionally, the board featured reverse polarity protection, implemented using a simple diode to safeguard the components.</p><figure class="post__image post__image--center"><img loading="lazy" src="https://ljmaker.github.io/media/posts/4/ShowerADATopAnnot.png" height="579" width="532" alt="" sizes="(min-width: 37.5em) 1600px, 80vw" srcset="https://ljmaker.github.io/media/posts/4/responsive/ShowerADATopAnnot-xs.png 384w, https://ljmaker.github.io/media/posts/4/responsive/ShowerADATopAnnot-sm.png 600w, https://ljmaker.github.io/media/posts/4/responsive/ShowerADATopAnnot-md.png 768w, https://ljmaker.github.io/media/posts/4/responsive/ShowerADATopAnnot-lg.png 1200w, https://ljmaker.github.io/media/posts/4/responsive/ShowerADATopAnnot-xl.png 1600w"><figcaption>front side of empty pcb</figcaption></figure><h2 id="the-final-pcb-was-designed-after-i-tested-the-functionality-on-two-different-boards">The final pcb was designed after I tested the functionality on two different boards</h2><div class="gallery-wrapper gallery-wrapper--wide"><div class="gallery" data-columns="3"><figure class="gallery__item"><a href="https://ljmaker.github.io/media/posts/4/gallery/TempTry0-2.png" data-size="1280x963"><img loading="lazy" src="https://ljmaker.github.io/media/posts/4/gallery/TempTry0-2-thumbnail.png" height="578" width="768" alt=""></a><figcaption>First board didn't feature an onboard microcontoller and had a button instead of a switch</figcaption></figure><figure class="gallery__item"><a href="https://ljmaker.github.io/media/posts/4/gallery/TempTry1-2.png" data-size="1280x963"><img loading="lazy" src="https://ljmaker.github.io/media/posts/4/gallery/TempTry1-2-thumbnail.png" height="578" width="768" alt=""></a><figcaption>Second board had an arduino pro mini as an onboard microcontroller. I didn't like this design because a lot of pins weren't utilised</figcaption></figure><figure class="gallery__item"><a href="https://ljmaker.github.io/media/posts/4/gallery/TempFinal-2.png" data-size="1280x963"><img loading="lazy" src="https://ljmaker.github.io/media/posts/4/gallery/TempFinal-2-thumbnail.png" height="578" width="768" alt=""></a><figcaption>Final design inside its case, with a waterproof switch and temperature sensor cable visible</figcaption></figure></div></div><h2 id="the-circuit-for-this-project-was-made-in-easyeda-which-was-the-first-proper-electronic-design-automation-tool-i-used">The circuit for this project was made in EasyEDA, which was the first proper electronic design automation tool I used</h2><figure class="post__image post__image--center"><img loading="lazy" src="https://ljmaker.github.io/media/posts/4/ShowerSchematic.png" height="717" width="1086" alt="" sizes="(min-width: 37.5em) 1600px, 80vw" srcset="https://ljmaker.github.io/media/posts/4/responsive/ShowerSchematic-xs.png 384w, https://ljmaker.github.io/media/posts/4/responsive/ShowerSchematic-sm.png 600w, https://ljmaker.github.io/media/posts/4/responsive/ShowerSchematic-md.png 768w, https://ljmaker.github.io/media/posts/4/responsive/ShowerSchematic-lg.png 1200w, https://ljmaker.github.io/media/posts/4/responsive/ShowerSchematic-xl.png 1600w"></figure><p>ATtiny85 was programmed using Arduino pro mini as an ISP (In-System-Programmer). The hardest part of this project in terms of software was figuring out the binary representation of each number shown on the 7-segment display, and then encoding each one into decimal (line 13 below). The rest of the code wasn't complicated.</p><pre class="line-numbers language-cpp"><code>#include &lt;OneWire.h&gt;
#include &lt;DallasTemperature.h&gt;

#define ONE_WIRE_BUS 4

OneWire oneWire(ONE_WIRE_BUS);  
DallasTemperature sensors(&oneWire);

int DS_pin = 2;
int STCP_pin = 1; //clock
int SHCP_pin = 0 ; // latch

int dec_digits  [10] {253, 21, 219, 235, 103, 175, 191, 225, 255, 239};

float temp = 0;
float decpart = 0;
int second_digit = 0;
int first_digit = 0;

void setup() {

  pinMode(DS_pin,  OUTPUT);
  pinMode(STCP_pin, OUTPUT);
  pinMode(SHCP_pin, OUTPUT);
}


void  loop() {

  sensors.requestTemperatures();
  temp = sensors.getTempCByIndex(0);
 
  second_digit = int(temp) % 10;
  decpart = temp - int(temp);
  first_digit = int(temp / 10);
  if (decpart &gt;= 0.5){
    second_digit++;
  }
 
  digitalWrite(STCP_pin, LOW);
  shiftOut(DS_pin,  SHCP_pin, LSBFIRST, dec_digits[second_digit]);
  shiftOut(DS_pin,  SHCP_pin, LSBFIRST, dec_digits[first_digit]);
  digitalWrite(STCP_pin, HIGH);
  delay(300);


}</code></pre></div><footer class="content__footer"><div class="content__tag-share"><div class="content__share"></div></div></footer></div></article></main><footer class="footer"><div class="footer__left"><div class="footer__copy">Powered by Publii</div></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg><use xlink:href="https://ljmaker.github.io/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = { mobileMenuMode: 'sidebar', animationSpeed: 300, submenuWidth: 'auto', doubleClickTime: 500, mobileMenuExpandableSubmenus: true, relatedContainerForOverlayMenuSelector: '.navbar', };</script><script defer="defer" src="https://ljmaker.github.io/assets/js/scripts.min.js?v=9c5ab7a87221183f149a42b3cceb7956"></script><script>function publiiDetectLoadedImages () {
         var images = document.querySelectorAll('img[loading]:not(.is-loaded)');
         for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
               images[i].classList.add('is-loaded');
               images[i].parentNode.classList.remove('is-img-loading');
            } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
                  this.parentNode.classList.remove('is-img-loading');
               }, false);
            }
         }
      }
      publiiDetectLoadedImages();</script></body></html>